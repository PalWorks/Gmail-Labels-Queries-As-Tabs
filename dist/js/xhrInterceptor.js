"use strict";(()=>{function c(n){if(!n||n.length===0)return;let t=new CustomEvent("gmailTabs:unreadUpdate",{detail:n});document.dispatchEvent(t)}function u(n){try{let t=n.replace(/^\)]}'\n/,"");return JSON.parse(t)}catch{return null}}function l(){let n=XMLHttpRequest.prototype,t=n.open,e=n.send;n.open=function(s,r){return this._url=r.toString(),t.apply(this,arguments)},n.send=function(s){let r=this;return this.addEventListener("load",function(){let i=r._url||"";if(i.includes("/sync/")||i.includes("/mail/u/")&&!i.includes("?"))try{let a=r.responseText;a&&f(a)}catch{}}),e.apply(this,arguments)}}function f(n){let t=u(n);if(!t)return;let e=[];o(t,e),e.length>0&&c(e)}function o(n,t){if(!(!n||typeof n!="object"))if(Array.isArray(n)){if(n.length>=2&&typeof n[0]=="string"&&typeof n[1]=="number"){let e=n[0],s=n[1];d(e)&&t.push({label:e,count:s})}for(let e of n)o(e,t)}else for(let e in n)o(n[e],t)}function d(n){return!(!n||n.includes("http")||n.includes("gmail/att/")||n.includes("/")&&n.startsWith("/")||n.length>80)}l();})();
