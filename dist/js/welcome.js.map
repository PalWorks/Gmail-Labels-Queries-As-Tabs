{
  "version": 3,
  "sources": ["../../src/welcome.ts"],
  "sourcesContent": ["/**\n * welcome.ts\n * Logic for the onboarding page.\n */\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    const openGmailBtn = document.getElementById('open-gmail-btn');\n    const themeRadios = document.querySelectorAll('input[name=\"theme\"]') as NodeListOf<HTMLInputElement>;\n\n    // --- Theme Logic ---\n\n    // Function to apply theme\n    function applyTheme(theme: string) {\n        if (theme === 'light') {\n            document.documentElement.setAttribute('data-theme', 'light');\n        } else if (theme === 'dark') {\n            document.documentElement.setAttribute('data-theme', 'dark');\n        } else {\n            // System\n            document.documentElement.removeAttribute('data-theme');\n        }\n    }\n\n    // Load saved theme\n    chrome.storage.sync.get(['theme'], (result) => {\n        const savedTheme = result.theme || 'system';\n        applyTheme(savedTheme);\n\n        // Update radio button\n        const radioToSelect = document.querySelector(`input[name=\"theme\"][value=\"${savedTheme}\"]`) as HTMLInputElement;\n        if (radioToSelect) {\n            radioToSelect.checked = true;\n        }\n    });\n\n    // Listen for changes\n    themeRadios.forEach(radio => {\n        radio.addEventListener('change', (e) => {\n            const target = e.target as HTMLInputElement;\n            if (target.checked) {\n                const newTheme = target.value;\n                applyTheme(newTheme);\n                chrome.storage.sync.set({ theme: newTheme });\n            }\n        });\n    });\n\n    // --- Existing Logic ---\n\n    if (openGmailBtn) {\n        openGmailBtn.addEventListener('click', () => {\n            // Check for existing Gmail tabs\n            chrome.tabs.query({ url: \"https://mail.google.com/*\" }, (tabs) => {\n                if (tabs && tabs.length > 0) {\n                    // Activate the first one found\n                    const tab = tabs[0];\n                    if (tab.id) {\n                        chrome.tabs.update(tab.id, { active: true });\n                        chrome.tabs.reload(tab.id);\n                        // Optional: Close the welcome tab if you want, but keeping it open is fine too\n                        // window.close(); \n                    }\n                } else {\n                    // No tab found, open a new one\n                    chrome.tabs.create({ url: 'https://mail.google.com/' });\n                }\n            });\n        });\n    }\n});\n"],
  "mappings": ";;;AAKA,WAAS,iBAAiB,oBAAoB,MAAM;AAChD,UAAM,eAAe,SAAS,eAAe,gBAAgB;AAC7D,UAAM,cAAc,SAAS,iBAAiB,qBAAqB;AAKnE,aAAS,WAAW,OAAe;AAC/B,UAAI,UAAU,SAAS;AACnB,iBAAS,gBAAgB,aAAa,cAAc,OAAO;AAAA,MAC/D,WAAW,UAAU,QAAQ;AACzB,iBAAS,gBAAgB,aAAa,cAAc,MAAM;AAAA,MAC9D,OAAO;AAEH,iBAAS,gBAAgB,gBAAgB,YAAY;AAAA,MACzD;AAAA,IACJ;AAGA,WAAO,QAAQ,KAAK,IAAI,CAAC,OAAO,GAAG,CAAC,WAAW;AAC3C,YAAM,aAAa,OAAO,SAAS;AACnC,iBAAW,UAAU;AAGrB,YAAM,gBAAgB,SAAS,cAAc,8BAA8B,UAAU,IAAI;AACzF,UAAI,eAAe;AACf,sBAAc,UAAU;AAAA,MAC5B;AAAA,IACJ,CAAC;AAGD,gBAAY,QAAQ,WAAS;AACzB,YAAM,iBAAiB,UAAU,CAAC,MAAM;AACpC,cAAM,SAAS,EAAE;AACjB,YAAI,OAAO,SAAS;AAChB,gBAAM,WAAW,OAAO;AACxB,qBAAW,QAAQ;AACnB,iBAAO,QAAQ,KAAK,IAAI,EAAE,OAAO,SAAS,CAAC;AAAA,QAC/C;AAAA,MACJ,CAAC;AAAA,IACL,CAAC;AAID,QAAI,cAAc;AACd,mBAAa,iBAAiB,SAAS,MAAM;AAEzC,eAAO,KAAK,MAAM,EAAE,KAAK,4BAA4B,GAAG,CAAC,SAAS;AAC9D,cAAI,QAAQ,KAAK,SAAS,GAAG;AAEzB,kBAAM,MAAM,KAAK,CAAC;AAClB,gBAAI,IAAI,IAAI;AACR,qBAAO,KAAK,OAAO,IAAI,IAAI,EAAE,QAAQ,KAAK,CAAC;AAC3C,qBAAO,KAAK,OAAO,IAAI,EAAE;AAAA,YAG7B;AAAA,UACJ,OAAO;AAEH,mBAAO,KAAK,OAAO,EAAE,KAAK,2BAA2B,CAAC;AAAA,UAC1D;AAAA,QACJ,CAAC;AAAA,MACL,CAAC;AAAA,IACL;AAAA,EACJ,CAAC;",
  "names": []
}
